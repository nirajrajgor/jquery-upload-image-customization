<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The jQuery Plugin to preview the image uploaded by user. Apart from preview one can also restrict the size, dimension of image uploaded by user.">
    <meta name="keywords" content="HTML,CSS,jQuery,JavaScript,Image Preview,Upload Image">
    <meta name="author" content="Niraj Rajgor">

    <meta property="og:title" content="jQuery Upload Image Customization">
    <meta property="og:description" content="The jQuery Plugin to preview the image uploaded by user. Apart from preview one can also restrict the size, dimension of image uploaded by user.">
    <meta property="og:url" content="https://nirajrajgor.github.io/jquery-upload-image-customization/">

    <meta name="twitter:title" content="jQuery Upload Image Customization">
    <meta name="twitter:description" content="The jQuery Plugin to preview the image uploaded by user. Apart from preview one can also restrict the size, dimension of image uploaded by user.">

    <meta property="og:site_name" content="jQuery Upload Image Customization">
    <meta name="twitter:image:alt" content="Image Preview">

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>jQuery-Upload-Image-Customization</title>

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/uploader.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body data-spy="scroll" data-target="#navbar-example">

    <!-- Navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" id="navbar-example">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#!">UploadImageCustomization</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a data-toggle="collapse" data-target=".navbar-collapse.in" href="#about">About</a>
            </li>
            <li>
              <a data-toggle="collapse" data-target=".navbar-collapse.in" href="#demo1">Demo1</a>
            </li>
            <li>
              <a data-toggle="collapse" data-target=".navbar-collapse.in" href="#demo2">Demo2</a>
            </li>
            <li>
              <a data-toggle="collapse" data-target=".navbar-collapse.in" href="#demo3">Demo3</a>
            </li>
            <li>
              <a href="https://github.com/nirajrajgor/jquery-upload-image-customization" target="_blank">
                <i class="fa fa-github"></i> Github
              </a>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

  <section class="wrapper-1">
    <div class="container">
      <div class="row" id="about">
        <div class="col-xs-12">
          <h2 class="about">
            About Plugin:
          </h2>
          <p class="about-text">The Plugin helps to preview the image uploaded by user. Apart from preview we can also restrict the size, dimension of image uploaded by user. The dimension can be specified during initialization as options, the user needs to upload the image with exact same width & height.  Different demos are available along with corresponding HTML, CSS &amp; JS code you can check it and copy the code accordingly.</p>
          <h2 class="about">
            Usage:
          </h2>
          <p class="about-text">
            Choose the demo as per your requirement and then copy the HTML, CSS &amp; JS code of that demo in your local machine and run the code. The JS code requires jQuery. Diferent options can be passed during initialization in the JS code as shown below.
            <pre>
              $('body').on("change", "#my-profile-file-selector", function(){
                // Pass the options as object parameter
                checkProfileSize({
                  size: 200     // always in KB, can be null
                  width: 1280   // always in KB, can be null
                  height: 720   // always in KB, can be null
                });
              })
            </pre>
          </p>
        </div>
      </div>
    </div>
  </section>

  <section class="wrapper-2">
    <div class="container">
      <div class="row" id="demo1">
        <div class="col-xs-12">
          <h2 class="title">Demo1 - Simple Image Preview</h2>
        </div>
        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>Select Image</h3>
          </div>

          <form action="#" method="post" id="demo1-form">
            <label class="btn profile" for="my-profile-file-selector">
                <input id="my-profile-file-selector" type="file">Upload
            </label>
            <span class='' id="upload-profile-file-info"></span>
            <h4 id="upload-profile-error" class="text-danger"></h4>
            <img id="upload-profile-image" src="" class="img-responsive" alt="">
            <button class="btn" id="remove-profile-btn">Remove</button>
          </form>

        </div>

        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>html code</h3>
          </div>
          <a href="javascript:;" class="btn-absolute btn-outline html-copy">Copy</a>
          <div class="code-section">
            <pre id="html-code">
&lt;form action="#" method="post" id="demo1-form"&gt;
  &lt;label class="btn profile" for="my-profile-file-selector"&gt;
  &lt;input id="my-profile-file-selector" type="file"&gt;Upload
  &lt;/label&gt;
  &lt;span class='' id="upload-profile-file-info"&gt;&lt;/span&gt;
  &lt;h4 id="upload-profile-error" class="text-danger"&gt;&lt;/h4&gt;
  &lt;img id="upload-profile-image" src="" class="img-responsive" alt=""&gt;
  &lt;button class="btn" id="remove-profile-btn"&gt;Remove&lt;/button&gt;
&lt;/form&gt;
            </pre>
          </div>
          <div class="css-section">
            <div class="block-heading">
              <h3>css code</h3>
            </div>
            <a href="javascript:;" class="btn-absolute btn-outline css-copy">Copy</a>
            <div class="code-section css-code">
              <pre id="css-code">
.btn{
  padding: 8px 34px;
  background-color: #9c27b0; color: #fff;
  font-size: 16px; border-radius: 0;
}
.btn:hover{
  color: #fff !important;
}              
#remove-profile-btn{ 
  display: none;
  margin-top: 12px;
}
#my-profile-file-selector{
  display: none;
}
              </pre>
            </div>
          </div>
        </div>

        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>JavaScript code</h3>
          </div>
          <a href="javascript:;" class="btn-absolute btn-outline js-copy">Copy</a>
          <div class="code-section js-code">
            <pre id="js-code">
$(function(){
  // Initialization code
  $('body').on("change", "#my-profile-file-selector", function(){
    checkProfileSize();
  })
  // When Remove button clicked
  $('#remove-profile-btn').on('click', function(event) {
        event.preventDefault();
        // make image view empty
        $('#upload-profile-image').attr('src', '');
        // make file name empty
        $('#upload-profile-file-info').html('');
        // make input file value empty
        $('input#my-profile-file-selector[type=file]').val('')
        // remove hide button
        $('#remove-profile-btn').hide();
        // show upload button again
        $('label.profile').show();
    });
});
// Function that executes all options
function checkProfileSize(arg){
    arg = arg || {};
    $('#upload-profile-image').attr('src', '');
    $('#upload-profile-file-info').html('');
    $('#upload-profile-error').html('');
    var fileInput = $('form').find("input#my-profile-file-selector[type=file]")[0],
    file = fileInput.files && fileInput.files[0];
    var sizeKB = file.size / 1024;
    var tmppath = URL.createObjectURL(event.target.files[0]);
    var maxSize = arg.size || sizeKB;
    var imgHeight, imgWidth;
    if( file ) {
        var img = new Image();
        img.src = window.URL.createObjectURL( file );
        img.onload = function() {
            var width = img.naturalWidth, height = img.naturalHeight;
            window.URL.revokeObjectURL( img.src );
            imgWidth = arg.width || width;
            imgHeight = arg.height || height;
            if( sizeKB <= maxSize) {
              if( width == imgWidth && height == imgHeight){
                var fileName = $('input#my-profile-file-selector[type=file]').val();
                  fileName = fileName.substr(fileName.lastIndexOf("\\")+1);
                  $('#upload-profile-image').attr('src', tmppath);
                  $('#upload-profile-file-info').html(fileName);
                  $('label.profile').hide();
                  $('#remove-profile-btn').show();
              }
              else{
                  imgWidth = arg.width || "any";
                  imgHeight = arg.height || "any";
                  $('#upload-profile-error')
                  .html('Uploaded Picture Width should be '+ imgWidth+' and Height should be '+imgHeight);
                  var fileName = $('input#my-profile-file-selector[type=file]').val();
              }
            }
            else {
                $('#upload-profile-error').html('Uploaded Profile picture size should be less than '+maxSize+'KB');
                var fileName = $('input#my-profile-file-selector[type=file]').val();
            }
        };
    }
    else { //No file was input or browser doesn't support client side reading
        console.log('No file selected');
    }
}
            </pre>
          </div>
        </div>

      </div>

    </div>
  </section>

  <section class="wrapper-3">
    <div class="container">
      <div class="row" id="demo2">
        <div class="col-xs-12">
          <h2 class="title">Demo2 - Image Preview with Size restriction</h2>
        </div>
        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>Select Image</h3>
          </div>

          <form action="#" method="post" id="demo2-form">
            <label class="btn profile-1" for="my-profile-file-selector-1">
                <input id="my-profile-file-selector-1" type="file">Upload
            </label>
            <span class='' id="upload-profile-file-info-1"></span>
            <h4 id="upload-profile-error-1" class="text-danger"></h4>
            <img id="upload-profile-image-1" src="" class="img-responsive" alt="">
            <button class="btn" id="remove-profile-btn-1">Remove</button>
          </form>

        </div>

        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>html code</h3>
          </div>
          <a href="javascript:;" class="btn-absolute btn-outline html-copy-1">Copy</a>
          <div class="code-section">
            <pre id="html-code-1">
&lt;form action="#" method="post" id="demo1-form"&gt;
  &lt;label class="btn profile" for="my-profile-file-selector"&gt;
  &lt;input id="my-profile-file-selector" type="file"&gt;Upload
  &lt;/label&gt;
  &lt;span class='' id="upload-profile-file-info"&gt;&lt;/span&gt;
  &lt;h4 id="upload-profile-error" class="text-danger"&gt;&lt;/h4&gt;
  &lt;img id="upload-profile-image" src="" class="img-responsive" alt=""&gt;
  &lt;button class="btn" id="remove-profile-btn"&gt;Remove&lt;/button&gt;
&lt;/form&gt;
            </pre>
          </div>
          <div class="css-section">
            <div class="block-heading">
              <h3>css code</h3>
            </div>
            <a href="javascript:;" class="btn-absolute btn-outline css-copy-1">Copy</a>
            <div class="code-section css-code">
              <pre id="css-code-1">
.btn{
  padding: 8px 34px;
  background-color: #9c27b0; color: #fff;
  font-size: 16px; border-radius: 0;
}
.btn:hover{
  color: #fff !important;
}              
#remove-profile-btn{ 
  display: none;
  margin-top: 12px;
}
#my-profile-file-selector{
  display: none;
}
              </pre>
            </div>
          </div>
        </div>

        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>JavaScript code</h3>
          </div>
          <a href="javascript:;" class="btn-absolute btn-outline js-copy-1">Copy</a>
          <div class="code-section js-code">
            <pre id="js-code-1">
$(function(){
  // Initialization code with Size Parameter
  $('body').on("change", "#my-profile-file-selector", function(){
    checkProfileSize({
        size: 200
    });
  })
  // When Remove button clicked
  $('#remove-profile-btn').on('click', function(event) {
        event.preventDefault();
        // make image view empty
        $('#upload-profile-image').attr('src', '');
        // make file name empty
        $('#upload-profile-file-info').html('');
        // make input file value empty
        $('input#my-profile-file-selector[type=file]').val('')
        // remove hide button
        $('#remove-profile-btn').hide();
        // show upload button again
        $('label.profile').show();
    });
});
// Function that executes all options
function checkProfileSize(arg){
    arg = arg || {};
    $('#upload-profile-image').attr('src', '');
    $('#upload-profile-file-info').html('');
    $('#upload-profile-error').html('');
    var fileInput = $('form').find("input#my-profile-file-selector[type=file]")[0],
    file = fileInput.files && fileInput.files[0];
    var sizeKB = file.size / 1024;
    var tmppath = URL.createObjectURL(event.target.files[0]);
    var maxSize = arg.size || sizeKB;
    var imgHeight, imgWidth;
    if( file ) {
        var img = new Image();
        img.src = window.URL.createObjectURL( file );
        img.onload = function() {
            var width = img.naturalWidth, height = img.naturalHeight;
            window.URL.revokeObjectURL( img.src );
            imgWidth = arg.width || width;
            imgHeight = arg.height || height;
            if( sizeKB <= maxSize) {
              if( width == imgWidth && height == imgHeight){
                var fileName = $('input#my-profile-file-selector[type=file]').val();
                  fileName = fileName.substr(fileName.lastIndexOf("\\")+1);
                  $('#upload-profile-image').attr('src', tmppath);
                  $('#upload-profile-file-info').html(fileName);
                  $('label.profile').hide();
                  $('#remove-profile-btn').show();
              }
              else{
                  imgWidth = arg.width || "any";
                  imgHeight = arg.height || "any";
                  $('#upload-profile-error')
                  .html('Uploaded Picture Width should be '+ imgWidth+' and Height should be '+imgHeight);
                  var fileName = $('input#my-profile-file-selector[type=file]').val();
              }
            }
            else {
                $('#upload-profile-error').html('Uploaded Profile picture size should be less than '+maxSize+'KB');
                var fileName = $('input#my-profile-file-selector[type=file]').val();
            }
        };
    }
    else { //No file was input or browser doesn't support client side reading
        console.log('No file selected');
    }
}
            </pre>
          </div>
        </div>

        <div class="col-xs-12" style="margin-top: 15px;">
          <div class="alert alert-info" role="alert">Note: The Size is provided during initialization in js code. The image with size less than amount provided in initialization will be uploaded & previewed. Provide size in KB. Read js code for more info.</div>
        </div>


      </div>
    </div>
  </section>

  <section class="wrapper-4">
    <div class="container">
      <div class="row" id="demo3">
        <div class="col-xs-12">
          <h2 class="title">Demo3 - Image Preview with Dimension restriction</h2>
        </div>
        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>Select Image</h3>
          </div>
          <form action="#" method="post" id="demo3-form">
            <label class="btn profile-2" for="my-profile-file-selector-2">
                <input id="my-profile-file-selector-2" type="file">Upload
            </label>
            <span class='' id="upload-profile-file-info-2"></span>
            <h4 id="upload-profile-error-2" class="text-danger"></h4>
            <img id="upload-profile-image-2" src="" class="img-responsive" alt="">
            <button class="btn" id="remove-profile-btn-2">Remove</button>
          </form>
        </div>

        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>html code</h3>
          </div>
          <a href="javascript:;" class="btn-absolute btn-outline html-copy-2">Copy</a>
          <div class="code-section">
            <pre id="html-code-2">
&lt;form action="#" method="post" id="demo1-form"&gt;
  &lt;label class="btn profile" for="my-profile-file-selector"&gt;
  &lt;input id="my-profile-file-selector" type="file"&gt;Upload
  &lt;/label&gt;
  &lt;span class='' id="upload-profile-file-info"&gt;&lt;/span&gt;
  &lt;h4 id="upload-profile-error" class="text-danger"&gt;&lt;/h4&gt;
  &lt;img id="upload-profile-image" src="" class="img-responsive" alt=""&gt;
  &lt;button class="btn" id="remove-profile-btn"&gt;Remove&lt;/button&gt;
&lt;/form&gt;
            </pre>
          </div>
          <div class="css-section">
            <div class="block-heading">
              <h3>css code</h3>
            </div>
            <a href="javascript:;" class="btn-absolute btn-outline css-copy-2">Copy</a>
            <div class="code-section css-code">
              <pre id="css-code-2">
.btn{
  padding: 8px 34px;
  background-color: #9c27b0; color: #fff;
  font-size: 16px; border-radius: 0;
}
.btn:hover{
  color: #fff !important;
}              
#remove-profile-btn{ 
  display: none;
  margin-top: 12px;
}
#my-profile-file-selector{
  display: none;
}
              </pre>
            </div>
          </div>
        </div>

        <div class="col-sm-4 col-md-4 col-xs-12">
          <div class="block-heading">
            <h3>JavaScript code</h3>
          </div>
          <a href="javascript:;" class="btn-absolute btn-outline js-copy-2">Copy</a>
          <div class="code-section js-code">
            <pre id="js-code-2">
$(function(){
  // Initialization code with Width, Height Parameter
  $('body').on("change", "#my-profile-file-selector", function(){
    checkProfileSize({
        width: 1280,
        height: 720
    });
  })
  // When Remove button clicked
  $('#remove-profile-btn').on('click', function(event) {
        event.preventDefault();
        // make image view empty
        $('#upload-profile-image').attr('src', '');
        // make file name empty
        $('#upload-profile-file-info').html('');
        // make input file value empty
        $('input#my-profile-file-selector[type=file]').val('')
        // remove hide button
        $('#remove-profile-btn').hide();
        // show upload button again
        $('label.profile').show();
    });
});
// Function that executes all options
function checkProfileSize(arg){
    arg = arg || {};
    $('#upload-profile-image').attr('src', '');
    $('#upload-profile-file-info').html('');
    $('#upload-profile-error').html('');
    var fileInput = $('form').find("input#my-profile-file-selector[type=file]")[0],
    file = fileInput.files && fileInput.files[0];
    var sizeKB = file.size / 1024;
    var tmppath = URL.createObjectURL(event.target.files[0]);
    var maxSize = arg.size || sizeKB;
    var imgHeight, imgWidth;
    if( file ) {
        var img = new Image();
        img.src = window.URL.createObjectURL( file );
        img.onload = function() {
            var width = img.naturalWidth, height = img.naturalHeight;
            window.URL.revokeObjectURL( img.src );
            imgWidth = arg.width || width;
            imgHeight = arg.height || height;
            if( sizeKB <= maxSize) {
              if( width == imgWidth && height == imgHeight){
                var fileName = $('input#my-profile-file-selector[type=file]').val();
                  fileName = fileName.substr(fileName.lastIndexOf("\\")+1);
                  $('#upload-profile-image').attr('src', tmppath);
                  $('#upload-profile-file-info').html(fileName);
                  $('label.profile').hide();
                  $('#remove-profile-btn').show();
              }
              else{
                  imgWidth = arg.width || "any";
                  imgHeight = arg.height || "any";
                  $('#upload-profile-error')
                  .html('Uploaded Picture Width should be '+ imgWidth+' and Height should be '+imgHeight);
                  var fileName = $('input#my-profile-file-selector[type=file]').val();
              }
            }
            else {
                $('#upload-profile-error').html('Uploaded Profile picture size should be less than '+maxSize+'KB');
                var fileName = $('input#my-profile-file-selector[type=file]').val();
            }
        };
    }
    else { //No file was input or browser doesn't support client side reading
        console.log('No file selected');
    }
}
            </pre>
          </div>
        </div>

        <div class="col-xs-12" style="margin-top: 15px;">
          <div class="alert alert-info" role="alert">Note: Dimensions are checked for exact width &amp; height provided during initialization. If you want to restrict only width of image then that can also be done, just pass width in KB during initialization &amp; don't provide height.</div>
        </div>


      </div>
    </div>
  </section>

  <section>
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-sm-6 col-md-4 col-xs-12">
            <h5>UploadImageCustomization &copy; 2017</h5>
          </div>
          <div class="col-sm-6 col-md-4 col-md-offset-4 col-xs-12">
            <h5>Hosted with <i class="fa fa-heart"></i> on 
              <a href="https://github.com/nirajrajgor/jquery-upload-image-customization" target="_blank">
                <i class="fa fa-github"></i> Github
              </a>
              </h5>
          </div>
        </div>
      </div>
    </footer>
  </section>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/uploader.js"></script>
    <script>
      $(function(){
        $('body').scrollspy({ target: '#navbar-example' })
      });
    </script>
  </body>
</html>